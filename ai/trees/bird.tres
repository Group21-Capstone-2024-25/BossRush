[gd_resource type="BehaviorTree" load_steps=28 format=3 uid="uid://co41okax7nj8f"]

[ext_resource type="Script" uid="uid://fa807js657xm" path="res://ai/tasks/fly_away.gd" id="1_m3a64"]
[ext_resource type="Script" uid="uid://bhgm6m2yaaunh" path="res://ai/tasks/choose_random_pos.gd" id="1_ohsvd"]
[ext_resource type="Script" uid="uid://bh52gdpq30p5o" path="res://ai/tasks/move_to_pos.gd" id="2_m3a64"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_mx5st"]
var/state/name = &"state"
var/state/type = 4
var/state/value = ""
var/state/hint = 0
var/state/hint_string = ""

[sub_resource type="BBVariant" id="BBVariant_ohsvd"]
type = 4
saved_value = "scared"
resource_name = "scared"

[sub_resource type="BTCheckVar" id="BTCheckVar_m3a64"]
variable = &"state"
value = SubResource("BBVariant_ohsvd")

[sub_resource type="BBNode" id="BBNode_ohsvd"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_m3a64"]
animation_player = SubResource("BBNode_ohsvd")
animation_name = &"fly"

[sub_resource type="BTAction" id="BTAction_7ar0q"]
script = ExtResource("1_m3a64")

[sub_resource type="BTSequence" id="BTSequence_hfiq7"]
custom_name = "Sequence - Fly Away"
children = [SubResource("BTCheckVar_m3a64"), SubResource("BTPlayAnimation_m3a64"), SubResource("BTAction_7ar0q")]

[sub_resource type="BBNode" id="BBNode_mx5st"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_hfiq7"]
animation_player = SubResource("BBNode_mx5st")
animation_name = &"idle"

[sub_resource type="BTRandomWait" id="BTRandomWait_ohsvd"]
min_duration = 0.5
max_duration = 1.0

[sub_resource type="BBNode" id="BBNode_m3a64"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_xj4ea"]
animation_player = SubResource("BBNode_m3a64")
animation_name = &"peck"

[sub_resource type="BBNode" id="BBNode_xg3kt"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTAwaitAnimation" id="BTAwaitAnimation_7ar0q"]
animation_player = SubResource("BBNode_xg3kt")
animation_name = &"peck"

[sub_resource type="BTWait" id="BTWait_nswhd"]

[sub_resource type="BTSequence" id="BTSequence_0qfey"]
custom_name = "Sequence - Chill"
children = [SubResource("BTPlayAnimation_hfiq7"), SubResource("BTRandomWait_ohsvd"), SubResource("BTPlayAnimation_xj4ea"), SubResource("BTAwaitAnimation_7ar0q"), SubResource("BTWait_nswhd")]

[sub_resource type="BTProbability" id="BTProbability_mx5st"]
children = [SubResource("BTSequence_0qfey")]

[sub_resource type="BTAction" id="BTAction_xj4ea"]
script = ExtResource("1_ohsvd")

[sub_resource type="BBNode" id="BBNode_hfiq7"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_ohsvd"]
animation_player = SubResource("BBNode_hfiq7")
animation_name = &"move"

[sub_resource type="BTAction" id="BTAction_xg3kt"]
script = ExtResource("2_m3a64")

[sub_resource type="BTSequence" id="BTSequence_xj4ea"]
custom_name = "Sequence - Move"
children = [SubResource("BTAction_xj4ea"), SubResource("BTPlayAnimation_ohsvd"), SubResource("BTAction_xg3kt")]

[sub_resource type="BTSelector" id="BTSelector_xj4ea"]
custom_name = "Selector - Patrol"
children = [SubResource("BTProbability_mx5st"), SubResource("BTSequence_xj4ea")]

[sub_resource type="BTSelector" id="BTSelector_xg3kt"]
children = [SubResource("BTSequence_hfiq7"), SubResource("BTSelector_xj4ea")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_mx5st")
root_task = SubResource("BTSelector_xg3kt")
